# DeepSeek RAG 多文档问答系统 Web界面

这是一个基于 Flask 的前端界面，为 DeepSeek RAG 多文档问答系统提供了用户友好的交互体验。该界面允许用户进行多轮对话，选择不同的生成模型，并查看检索结果的来源文档。

## 功能特点

- **多轮对话**：支持与系统进行连续的多轮对话
- **模型选择**：可以在不同的生成模型之间切换
- **来源展示**：显示支持回答的参考文档及其相关度
- **响应式设计**：适配不同屏幕尺寸的设备
- **交互优化**：加载状态显示、错误处理等

## 安装与启动

### 1. 安装依赖

确保您已安装所有必要的依赖：

```bash
pip install -r requirements.txt
```

### 2. 准备索引

在运行Web应用前，确保已经构建好文档索引：

```bash
python index_add_or_create.py
```

### 3. 启动Web应用

使用提供的启动脚本运行应用：

```bash
python run_webapp.py
```

或者直接运行Flask应用：

```bash
python app.py
```

### 4. 访问应用

在浏览器中打开以下地址：

```
http://localhost:5000
```

## 使用指南

1. **输入问题**：在底部文本框中输入您的问题，然后点击"发送"按钮或按Enter键
2. **查看回答**：系统会展示检索到的相关文档，并生成基于这些文档的回答
3. **切换模型**：在左侧面板中，您可以选择不同的模型来生成回答
4. **查看来源**：每个回答下方都有"显示参考内容"选项，点击可查看支持该回答的文档片段
5. **清空历史**：点击"清空对话历史"按钮可以开始新的对话

## 系统架构

Web界面基于以下技术栈：

- **后端**：Flask Web框架
- **前端**：HTML, CSS, JavaScript
- **UI组件**：Bootstrap 5
- **图标**：Font Awesome

该界面与现有的RAG系统无缝集成，不改变原有的代码结构，只是添加了一层用户交互界面。

## 定制与扩展

### 添加新模型

1. 修改 `app.py` 中的 `AVAILABLE_MODELS` 字典
2. 在 `create_qa_system` 函数中添加相应的逻辑

### 修改UI样式

- 编辑 `static/style.css` 以自定义界面样式
- 修改 `templates/index.html` 以调整界面布局

### 添加新功能

- **文件上传**：可以添加文件上传功能，允许用户动态添加新文档
- **历史会话管理**：实现会话保存和加载功能
- **高级设置**：添加检索参数、生成参数的调整界面

## 常见问题

### Q: 应用启动后显示"未找到索引文件"怎么办？

A: 需要先运行 `python index_add_or_create.py` 创建文档索引。

### Q: 如何在局域网中共享应用？

A: 修改 `app.py` 中的 `app.run()` 参数为 `app.run(host='0.0.0.0', port=5000)`，然后使用服务器的IP地址访问。

### Q: 如何添加更多模型选择？

A: 在 `app.py` 文件中修改 `AVAILABLE_MODELS` 字典，添加新的模型选项。 